

`TTS(Text To Speech)`模块,用于将文字转换为语音输出;

我们的`TTS`采用的是百度的`TTS`模块支持,在线和离线情况下均可以使用,如果离线使用,第一次需要联网激活;

#### 编写时间轴

|     时间     |  版本  | 修改内容 | 修改人 |
| :----------: | :----: | :------: | :----: |
| `2018-10-15` | `V1.0` | 新建文档 | 王伟杰 |

### 编写依据

- [产品需求](./ref/智能主机项目1.3原型演示.exe)

### 提供API

`TTS`模块采用了单例设计模式,提供`TTS`功能的类为`TTSManager`提供的`API`也很简单:

```java
/**
 * 初始化TTS模块
 */
public void init()
/**
 * 将指定文本转换为语音输出
 * @param text 文本
 */
public void speak(String text)
```

### 实现原理

`TTS`模块使用百度语音合成实现,原理文档参考[百度离线在线语音合成 Android SDK](https://ai.baidu.com/docs#/TTS-Android-SDK/top)

这里做如下几点补充:

1. 百度`TTS`不支持纯离线模式,目前`TTS`初始化时设置为**离在线混合模式**----`WIFI下在线优先（连接百度服务器失败或者超时1.2s，那么切换成离线合成）， 其它网络状况下离线合成`;
2. 离在线混合模式下，自动下载正式授权文件。每次调用时，可能会更新正式授权文件;

### 注意事项

1. 因为使用百度语音合成实现,应用相关信息在百度语音合成平台进行了注册,相关账号等信息处理,找**王伟**处理;
2. 在**第一次使用**时,需要连接百度服务器验证权限,下载授权文件后`TTS`才有效;

### 主要测试点

参考应用流程相关文档